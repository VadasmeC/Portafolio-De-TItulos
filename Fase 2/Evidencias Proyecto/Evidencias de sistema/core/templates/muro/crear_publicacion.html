{% extends 'core/base.html' %}

{% block content %}

{% load crispy_forms_tags %}
{% load static %}

<link rel="stylesheet" href="{% static 'css/crear_publicacion.css' %}">

<!-- Mover el mensaje de éxito arriba del formulario -->
{% if messages %}
<div class="alert alert-success text-center mt-3" role="alert" id="successMessage">
    {% for message in messages %}
    {{ message }}
    {% endfor %}
</div>
{% endif %}

<!-- Wrapper transparente para el título -->
<div class="title-wrapper">
    <h3 class="text-center">Crear Publicación</h3>
</div>

<!-- Contenedor flex para formulario y notita -->
<div class="form-container">
    <!-- Formulario -->
    <section class="about">
        <form action="" method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <div class="form-signin-wrapper">
                {{ form | crispy }}

                <button type="submit" class="btn btn-custom btn-login">Subir Publicación</button>
            </div>
        </form>
    </section>

    <!-- Notita de instrucciones -->
    <div class="instructions-wrapper">
        <div class="instructions-card">
            <h4>Instrucciones para Crear Publicación:</h4>
            <ul>
                <li>Escribe el título de tu publicación.</li>
                <li>Añade una descripción detallada.</li>
                <li>Si tienes imágenes, adjúntalas en el campo correspondiente.</li>
                <li>Haz clic en "Subir Publicación" para enviarla.</li>
            </ul>
        </div>
    </div>
</div>



<script>
// JavaScript para ocultar el mensaje después de 5 segundos
window.onload = function() {
    const successMessage = document.getElementById('successMessage');
    if (successMessage) {
        setTimeout(function() {
            successMessage.style.display = 'none';
        }, 5000); // 5000 milisegundos = 5 segundos
    }
};
</script>

{% endblock %}
